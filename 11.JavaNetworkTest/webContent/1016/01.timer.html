<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        div {
            border: 2px double green;
            height: 50px;
        }
    </style>
</head>
<body>
    <div>랜덤색 표현</div>
    <input type="button"  id="ranColor" value="랜덤컬러">
    <input type="button"  id="stop" value="정지">

<script src="../js/random.js"></script>
<script>

    let randomColor;
    let timer;
    document.querySelector('#ranColor').addEventListener('click',randomColor = function (){

    // 10진수 색상정보 rgb(0~255,0~255,0~255)
    let random10 = []; // 빈배열
    let random16 = [];
    for(let i =0; i<3; i++) {
    random10[i] = f_random(0,255);
    random16[i] = f_random(0,255).toString(16);
    }
    let color16 = random16.join(""); // join() - 배열을 문자열로 합침(구분자 생략시 콤마적용)
    console.log(random10);
    console.log(random16, color16);

    // 출력영역
    document.querySelector('div').style.backgroundColor = "rgb("+random10+")";
    document.querySelector('div').innerHTML = random10+"<br>";
    document.querySelector('div').style.color = "#"+color16;
    document.querySelector('div').innerText += color16;

    timer = setTimeout(randomColor,1000)   // 재귀호출

    // 버튼 비활성화 상태로 만들기
    document.querySelector('#ranColor').setAttribute('disabled',true);
    });
    document.querySelector('#stop').addEventListener('click',function(){
        // 현재 실행중인 setTimeout(randomColor) 기능을 중지시키기
        clearTimeout(timer);
        // 비활성화 상태의 버튼을 다시 활성화 처리(적용된 disabled속성 제거하기)
        // document.querySelector('#ranColor').setAttribute('disabled',false); // 적용x
        // document.querySelector('#ranColor').setAttribute('enabled',true); // 적용x
        // document.querySelector('#ranColor').setAttribute('enabled','enabled'); // 적용x
        document.querySelector('#ranColor').removeAttribute('disabled');
    });
    // setTimeout(randomColor,1000, "유진");   // 지정한 ms가 지나면 함수 1회 발생
    // setInterval(randomColor,1000)   // 지정된 ms마다 함수를 실행
</script>
</body>
</html>